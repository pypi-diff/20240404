# Comparing `tmp/gdal_utils-3.8.4.0-py3-none-any.whl.zip` & `tmp/gdal_utils-3.8.5.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,21 +1,21 @@
-Zip file size: 337892 bytes, number of entries: 97
--rw-rw-r--  2.0 unx      432 b- defN 24-Feb-08 19:09 osgeo_utils/__init__.py
--rw-rw-r--  2.0 unx   166686 b- defN 24-Feb-07 21:55 osgeo_utils/gdal2tiles.py
+Zip file size: 338059 bytes, number of entries: 97
+-rw-rw-r--  2.0 unx      432 b- defN 24-Apr-02 10:04 osgeo_utils/__init__.py
+-rw-rw-r--  2.0 unx   166757 b- defN 24-Mar-01 13:42 osgeo_utils/gdal2tiles.py
 -rw-rw-r--  2.0 unx    15776 b- defN 23-Nov-06 10:54 osgeo_utils/gdal2xyz.py
 -rw-rw-r--  2.0 unx    36481 b- defN 23-Nov-06 10:54 osgeo_utils/gdal_calc.py
 -rw-rw-r--  2.0 unx    16078 b- defN 24-Feb-07 21:55 osgeo_utils/gdal_edit.py
 -rw-rw-r--  2.0 unx     9085 b- defN 23-Nov-06 10:54 osgeo_utils/gdal_fillnodata.py
 -rw-rw-r--  2.0 unx    18738 b- defN 23-Nov-06 10:54 osgeo_utils/gdal_merge.py
 -rw-rw-r--  2.0 unx    12426 b- defN 23-Nov-09 10:15 osgeo_utils/gdal_pansharpen.py
 -rw-rw-r--  2.0 unx    12411 b- defN 23-Nov-06 10:54 osgeo_utils/gdal_polygonize.py
 -rw-rw-r--  2.0 unx     7587 b- defN 23-Nov-06 10:54 osgeo_utils/gdal_proximity.py
 -rw-rw-r--  2.0 unx    38844 b- defN 23-Nov-09 10:15 osgeo_utils/gdal_retile.py
 -rw-rw-r--  2.0 unx     6682 b- defN 23-Nov-17 17:32 osgeo_utils/gdal_sieve.py
--rw-rw-r--  2.0 unx     5021 b- defN 23-Nov-17 17:32 osgeo_utils/gdalattachpct.py
+-rw-rw-r--  2.0 unx     5200 b- defN 24-Apr-01 22:32 osgeo_utils/gdalattachpct.py
 -rw-rw-r--  2.0 unx    20209 b- defN 23-Nov-17 17:32 osgeo_utils/gdalcompare.py
 -rw-rw-r--  2.0 unx    10018 b- defN 23-Nov-17 17:32 osgeo_utils/gdalmove.py
 -rw-rw-r--  2.0 unx    19311 b- defN 23-Nov-09 10:15 osgeo_utils/ogr_layer_algebra.py
 -rw-rw-r--  2.0 unx    43981 b- defN 23-Nov-09 10:15 osgeo_utils/ogrmerge.py
 -rw-rw-r--  2.0 unx     7753 b- defN 23-Dec-01 17:57 osgeo_utils/pct2rgb.py
 -rw-rw-r--  2.0 unx     7145 b- defN 23-Nov-06 10:54 osgeo_utils/rgb2pct.py
 -rw-rw-r--  2.0 unx        0 b- defN 23-Nov-06 10:54 osgeo_utils/auxiliary/__init__.py
@@ -87,13 +87,13 @@
 -rw-rw-r--  2.0 unx    18476 b- defN 23-Nov-06 10:54 osgeo_utils/samples/validate_cloud_optimized_geotiff.py
 -rw-rw-r--  2.0 unx    16548 b- defN 23-Nov-06 10:54 osgeo_utils/samples/validate_geoparquet.py
 -rw-rw-r--  2.0 unx   113359 b- defN 23-Nov-06 10:54 osgeo_utils/samples/validate_gpkg.py
 -rw-rw-r--  2.0 unx    70659 b- defN 23-Nov-06 10:54 osgeo_utils/samples/validate_jp2.py
 -rw-rw-r--  2.0 unx     4768 b- defN 23-Nov-06 10:54 osgeo_utils/samples/vec_tr.py
 -rw-rw-r--  2.0 unx     4843 b- defN 23-Nov-06 10:54 osgeo_utils/samples/vec_tr_spat.py
 -rw-rw-r--  2.0 unx     7103 b- defN 23-Nov-06 10:54 osgeo_utils/samples/wcs_virtds_params.py
--rw-rw-r--  2.0 unx     3871 b- defN 24-Feb-18 15:35 gdal_utils-3.8.4.0.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 24-Feb-18 15:35 gdal_utils-3.8.4.0.dist-info/WHEEL
--rw-rw-r--  2.0 unx      827 b- defN 24-Feb-18 15:35 gdal_utils-3.8.4.0.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx       12 b- defN 24-Feb-18 15:35 gdal_utils-3.8.4.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     8674 b- defN 24-Feb-18 15:35 gdal_utils-3.8.4.0.dist-info/RECORD
-97 files, 1236400 bytes uncompressed, 324140 bytes compressed:  73.8%
+-rw-rw-r--  2.0 unx     3871 b- defN 24-Apr-04 17:23 gdal_utils-3.8.5.0.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 24-Apr-04 17:23 gdal_utils-3.8.5.0.dist-info/WHEEL
+-rw-rw-r--  2.0 unx      827 b- defN 24-Apr-04 17:23 gdal_utils-3.8.5.0.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx       12 b- defN 24-Apr-04 17:23 gdal_utils-3.8.5.0.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     8674 b- defN 24-Apr-04 17:23 gdal_utils-3.8.5.0.dist-info/RECORD
+97 files, 1236650 bytes uncompressed, 324307 bytes compressed:  73.8%
```

## zipnote {}

```diff
@@ -270,23 +270,23 @@
 
 Filename: osgeo_utils/samples/vec_tr_spat.py
 Comment: 
 
 Filename: osgeo_utils/samples/wcs_virtds_params.py
 Comment: 
 
-Filename: gdal_utils-3.8.4.0.dist-info/METADATA
+Filename: gdal_utils-3.8.5.0.dist-info/METADATA
 Comment: 
 
-Filename: gdal_utils-3.8.4.0.dist-info/WHEEL
+Filename: gdal_utils-3.8.5.0.dist-info/WHEEL
 Comment: 
 
-Filename: gdal_utils-3.8.4.0.dist-info/entry_points.txt
+Filename: gdal_utils-3.8.5.0.dist-info/entry_points.txt
 Comment: 
 
-Filename: gdal_utils-3.8.4.0.dist-info/top_level.txt
+Filename: gdal_utils-3.8.5.0.dist-info/top_level.txt
 Comment: 
 
-Filename: gdal_utils-3.8.4.0.dist-info/RECORD
+Filename: gdal_utils-3.8.5.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## osgeo_utils/__init__.py

```diff
@@ -1,9 +1,9 @@
 __package_name__ = "gdal-utils"
-gdal_utils_version = (3, 8, 4, 0)
+gdal_utils_version = (3, 8, 5, 0)
 __version__ = ".".join(str(i) for i in gdal_utils_version)
 __author__ = "Frank Warmerdam"
 __author_email__ = "warmerdam@pobox.com"
 __maintainer__ = "Idan Miara"
 __maintainer_email__ = "idan@miara.com"
 __description__ = (
     "gdal-utils: An extension library for GDAL - Geospatial Data Abstraction Library"
```

## osgeo_utils/gdal2tiles.py

```diff
@@ -1569,15 +1569,18 @@
         )
         # Remove useless side car file
         aux_xml = tilefilename + ".aux.xml"
         if gdal.VSIStatL(aux_xml) is not None:
             gdal.Unlink(aux_xml)
 
     if options.verbose:
-        logger.debug(f"\tbuild from zoom {base_tz}, tiles: %s" % ",".join(base_tiles))
+        logger.debug(
+            f"\tbuild from zoom {base_tz}, tiles: %s"
+            % ",".join(["(%d, %d)" % (t[0], t[1]) for t in base_tiles])
+        )
 
     # Create a KML file for this tile.
     if tile_job_info.kml:
         swne = get_tile_swne(tile_job_info, options)
         if swne is not None:
             with my_open(
                 os.path.join(
```

## osgeo_utils/gdalattachpct.py

```diff
@@ -107,47 +107,55 @@
     # =============================================================================
 
     ct = get_color_table(pct_filename)
     if pct_filename is not None and ct is None:
         print("No color table on file ", pct_filename)
         return None, 1
 
-    # =============================================================================
-    # Create a MEM clone of the source file.
-    # =============================================================================
-
-    src_ds = open_ds(src_filename)
-
-    mem_ds = gdal.GetDriverByName("MEM").CreateCopy("mem", src_ds)
-
-    # =============================================================================
-    # Assign the color table in memory.
-    # =============================================================================
-
-    mem_ds.GetRasterBand(1).SetRasterColorTable(ct)
-    mem_ds.GetRasterBand(1).SetRasterColorInterpretation(gdal.GCI_PaletteIndex)
-
-    # =============================================================================
-    # Write the dataset to the output file.
-    # =============================================================================
-
+    # Figure out destination driver
     if not driver_name:
         driver_name = GetOutputDriverFor(dst_filename)
 
     dst_driver = gdal.GetDriverByName(driver_name)
     if dst_driver is None:
-        print('"%s" driver not registered.' % driver_name)
+        print(f'"{driver_name}" driver not registered.')
         return None, 1
 
-    if driver_name.upper() == "MEM":
-        out_ds = mem_ds
+    src_ds = open_ds(src_filename)
+    if src_ds is None:
+        print(f"Cannot open {src_filename}")
+        return None, 1
+
+    if driver_name.upper() == "VRT":
+        # For VRT, create the VRT first from the source dataset, so it
+        # correctly refers to it
+        out_ds = dst_driver.CreateCopy(dst_filename or "", src_ds)
+        if out_ds is None:
+            print(f"Cannot create {dst_filename}")
+            return None, 1
+
+        # And now assign the color table to the VRT
+        out_ds.GetRasterBand(1).SetRasterColorTable(ct)
+        out_ds.GetRasterBand(1).SetRasterColorInterpretation(gdal.GCI_PaletteIndex)
     else:
-        out_ds = dst_driver.CreateCopy(dst_filename or "", mem_ds)
+        # Create a MEM clone of the source file.
+        mem_ds = gdal.GetDriverByName("MEM").CreateCopy("mem", src_ds)
+
+        # Assign the color table in memory.
+        mem_ds.GetRasterBand(1).SetRasterColorTable(ct)
+        mem_ds.GetRasterBand(1).SetRasterColorInterpretation(gdal.GCI_PaletteIndex)
+
+        # Write the dataset to the output file.
+        if driver_name.upper() == "MEM":
+            out_ds = mem_ds
+        else:
+            out_ds = dst_driver.CreateCopy(dst_filename or "", mem_ds)
+
+        mem_ds = None
 
-    mem_ds = None
     src_ds = None
 
     return out_ds, 0
 
 
 if __name__ == "__main__":
     sys.exit(main(sys.argv))
```

## Comparing `gdal_utils-3.8.4.0.dist-info/METADATA` & `gdal_utils-3.8.5.0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: gdal-utils
-Version: 3.8.4.0
+Version: 3.8.5.0
 Summary: gdal-utils: An extension library for GDAL - Geospatial Data Abstraction Library
 Home-page: http://www.gdal.org
 Author: Frank Warmerdam
 Author-email: warmerdam@pobox.com
 Maintainer: Idan Miara
 Maintainer-email: idan@miara.com
 License: MIT
```

## Comparing `gdal_utils-3.8.4.0.dist-info/entry_points.txt` & `gdal_utils-3.8.5.0.dist-info/entry_points.txt`

 * *Files identical despite different names*

## Comparing `gdal_utils-3.8.4.0.dist-info/RECORD` & `gdal_utils-3.8.5.0.dist-info/RECORD`

 * *Files 1% similar despite different names*

```diff
@@ -1,20 +1,20 @@
-osgeo_utils/__init__.py,sha256=Cf4UcCA2bWyilPT_8dc0u66X9XqeVvK6BVG2283sYu4,432
-osgeo_utils/gdal2tiles.py,sha256=fgCSZl2EXYseWtfcOvSLxg3nbZEviQzG28nqmWvLzSs,166686
+osgeo_utils/__init__.py,sha256=hI3JU8B3EMtyuDlXABq9qr9-pTZXUeCawcCHsMyobhE,432
+osgeo_utils/gdal2tiles.py,sha256=QrGx-VtENTs6sxhhrILEGJvygOLSO5shwdkFkZV7Jiw,166757
 osgeo_utils/gdal2xyz.py,sha256=Y1iwvxl0HTQnLwF2daPLL8Mlv2zgQX418BciPwxKoE0,15776
 osgeo_utils/gdal_calc.py,sha256=c3L5ON9E-zuIDCxmsF7gMOTQ3kQfJr6q8PwpNhadxL8,36481
 osgeo_utils/gdal_edit.py,sha256=U4E0PuoRUy3dbevtDBfGjH0MUKNWuyw26wrd7T3mwfA,16078
 osgeo_utils/gdal_fillnodata.py,sha256=MZ1kulgqnt6Vlwe6TpfUJVOk-UnJucntxxMQ0g1MLqQ,9085
 osgeo_utils/gdal_merge.py,sha256=2Q6pYAYqnNU7kKPdiS3Hq3D9X0y-zA879lNC1je_8Kc,18738
 osgeo_utils/gdal_pansharpen.py,sha256=C5rSdJ7rELoxosZybHyTUsCwNnyAYE8ebTaKwo1w4RY,12426
 osgeo_utils/gdal_polygonize.py,sha256=fudteFjACrtgKvgTDb9CVA_7T8wNql5LCJSRcoKKQ5o,12411
 osgeo_utils/gdal_proximity.py,sha256=Ga8N8juyFZTSWbJeJmcGUmeO8RSk2HE6wZsFlRF2xYs,7587
 osgeo_utils/gdal_retile.py,sha256=m8v9RiCtVZTKZ6I8lqxC2t8jAU4j5RyZOJEu5y-Met0,38844
 osgeo_utils/gdal_sieve.py,sha256=oW5OEuE14hZQxQj7L7tjYao_xboPpigjJgz86PUNyIk,6682
-osgeo_utils/gdalattachpct.py,sha256=t3hIdpvcsKUZOtoT08EbbOzNapIccmUra4KaMcHIs4U,5021
+osgeo_utils/gdalattachpct.py,sha256=i_OvkEiNIZ5TO8kMJ5ya3OcYwLdc4ZpqpWppk7N6LRs,5200
 osgeo_utils/gdalcompare.py,sha256=OjnP6bZHDKTuLT9O3t6DTG79JaP6S25fKHvyznMGCuw,20209
 osgeo_utils/gdalmove.py,sha256=7qt_MgF2me_e-WtUpgeXyYdLtNoGI5Cp9BpFuP3lWGk,10018
 osgeo_utils/ogr_layer_algebra.py,sha256=Zk2PjTjfkA7hHW03glR5vX_xjB4bm0FXOrnud1jYWJg,19311
 osgeo_utils/ogrmerge.py,sha256=YAgp7clJNcnMEI7p-IbUGNXSPgHL3xUSngM-s26WRhg,43981
 osgeo_utils/pct2rgb.py,sha256=BQUax4cRVtcCZtRddLv86yD4LyZcgoE5NXDECo9UuCk,7753
 osgeo_utils/rgb2pct.py,sha256=gT8PxciYYvtG0s79NscjvYEsIe09Xb03l8PWGoVfP_U,7145
 osgeo_utils/auxiliary/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -86,12 +86,12 @@
 osgeo_utils/samples/validate_cloud_optimized_geotiff.py,sha256=2OZDoyjs_vPo8abwNd15Ex2g-u3HBQPJCgZH-jJ2E14,18476
 osgeo_utils/samples/validate_geoparquet.py,sha256=rjWacGDnPaLQb9V3qO5pPA-qNFtSIRhlZyJzH0z_2QA,16548
 osgeo_utils/samples/validate_gpkg.py,sha256=N5DuqDArptqW_dSyFsO9QturTLuUzTiQ0c_DM0TPWP0,113359
 osgeo_utils/samples/validate_jp2.py,sha256=RYMn5m_WWoySaOvHzzB2cr6IrR9YVUKYRbaSzzSh4yY,70659
 osgeo_utils/samples/vec_tr.py,sha256=CzwiIcbOBb78JHAV5rlOJ5Jn_g_EkvlGjYHdhs4dXhw,4768
 osgeo_utils/samples/vec_tr_spat.py,sha256=M380f8P1TDa3p_1CBicXx_gk9J7FKtFYi6v_jQ0kRCs,4843
 osgeo_utils/samples/wcs_virtds_params.py,sha256=bo-5FtBCk97DwaNF1GxkfHNCe9xLOCt1oR4PsEGpU38,7103
-gdal_utils-3.8.4.0.dist-info/METADATA,sha256=yaTZm9-6jsyvc4JDOG9dWwN6qZVOVpEavauIYdcX7Jg,3871
-gdal_utils-3.8.4.0.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
-gdal_utils-3.8.4.0.dist-info/entry_points.txt,sha256=OouH5QHg15vsPnfH0FOG7ZkS2UlEoJZCHC8bfrVp1y4,827
-gdal_utils-3.8.4.0.dist-info/top_level.txt,sha256=S2PDWMyA5xqC4JEsxOsQN222-k98sNYTODfMO7B1_NU,12
-gdal_utils-3.8.4.0.dist-info/RECORD,,
+gdal_utils-3.8.5.0.dist-info/METADATA,sha256=WlAVmvbJmfRqgTNBdqR2NsGjH45gnpNF-uCKPPxbamc,3871
+gdal_utils-3.8.5.0.dist-info/WHEEL,sha256=g4nMs7d-Xl9-xC9XovUrsDHGXt-FT0E17Yqo92DEfvY,92
+gdal_utils-3.8.5.0.dist-info/entry_points.txt,sha256=OouH5QHg15vsPnfH0FOG7ZkS2UlEoJZCHC8bfrVp1y4,827
+gdal_utils-3.8.5.0.dist-info/top_level.txt,sha256=S2PDWMyA5xqC4JEsxOsQN222-k98sNYTODfMO7B1_NU,12
+gdal_utils-3.8.5.0.dist-info/RECORD,,
```

